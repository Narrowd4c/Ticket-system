(()=>{let e=[{id:0,name:"肥宅心碎賞櫻3日",imgUrl:"https://images.unsplash.com/photo-1522383225653-ed111181a951?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1655&q=80",area:"高雄",description:"賞櫻花最佳去處。肥宅不得不去的超讚景點！",group:87,price:1400,rate:10},{id:1,name:"貓空纜車雙程票",imgUrl:"https://images.unsplash.com/photo-1501393152198-34b240415948?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台北",description:"乘坐以透明強化玻璃為地板的「貓纜之眼」水晶車廂，享受騰雲駕霧遨遊天際之感",group:99,price:240,rate:2},{id:2,name:"台中谷關溫泉會1日",imgUrl:"https://images.unsplash.com/photo-1535530992830-e25d07cfa780?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1650&q=80",area:"台中",description:"全館客房均提供谷關無色無味之優質碳酸原湯，並取用八仙山之山冷泉供蒞臨貴賓沐浴及飲水使用。",group:20,price:1765,rate:7}],t=document.querySelector("#addticket"),a=document.querySelector("[data-list]"),i=document.querySelector("[data-filter-area]"),r=document.querySelector("[data-list-num]");function l(e){e.forEach((({id:e,name:t,imgUrl:i,area:r,description:l,group:s,price:c,rate:n})=>{a.innerHTML+=`<li id='${e}' class='lg:w-1/3 sm:w-1/2 w-full px-4 flex flex-col'>\n      <div class="relative">\n        <h4 class='text-white absolute -top-4 bg-primary-light text-xl px-5 py-2 rounded-r'>${r}</h4>\n        <img src='${i}' alt="" class='h-[180px] w-full object-cover overflow-hidden'>\n        <h5 class='absolute -bottom-3 text-white bg-primary py-[5px] px-2 rounded-r text-base'>${n}</h5>\n      </div>\n      <div class="card-body flex flex-col justify-between border grow bg-white p-5">\n        <div class="main">\n          <h3 class="card-title lg:text-2xl md:text-xl text-2xl text-primary border-b-2 border-primary pb-1">${t}</h3>\n          <div class="card-article pt-4 text-gray-400 mb-8 ">${l}</div>\n        </div>\n        <div class="card-footer flex justify-between">\n          <h4 class='text-primary flex items-center'><i class="fas fa-exclamation-circle"></i><span class='ml-2'>剩下最後<span id='ticketnum'>${s}</span>組</span></h4>\n          <div>\n            <h4 class='text-primary'>TWD<span class='text-3xl font-medium align-middle ml-2'>${c}</span></h4>\n          </div>\n        </div>\n      </div>\n    </li>`}))}console.log(i.value),i.addEventListener("change",(t=>{if(a.innerHTML="","全部地區"===t.target.value)l(e),r.textContent=e.length;else{let a=e.filter((({area:e})=>e===t.target.value));l(a),r.textContent=a.length}}));let s=["台北","台中","高雄"];l(e);let c=document.querySelectorAll("[data-message]");t.addEventListener("submit",(t=>{t.preventDefault();let i={id:new Date,name:""!==t.target["ticket-name"]?.value&&t.target["ticket-name"]?.value,imgUrl:""!==t.target["ticket-imgURL"]?.value&&t.target["ticket-imgURL"]?.value,area:!!s.some((e=>e==t.target["ticket-area"]?.value))&&t.target["ticket-area"]?.value,description:""!==t.target["ticket-description"]?.value&&t.target["ticket-description"]?.value,group:""!==t.target["ticket-group"]?.value&&t.target["ticket-group"]?.value,price:""!==t.target["ticket-price"]?.value&&t.target["ticket-price"]?.value,rate:""!==t.target["ticket-rate"]?.value&&t.target["ticket-rate"]?.value},r=Object.values(i).slice(1);c.forEach(((e,t,a)=>{console.log(r[t]),!1===r[t]?e.classList.remove("invisible"):e.classList.add("invisible")})),r.every((e=>e))&&(e.push(i),a.innerHTML="",l(e),t.target.reset())}))})();